<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Genie's Interrogation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Raleway:wght@300;400&display=swap');
        body, html { height: 100%; margin: 0; background: radial-gradient(circle at center, #1a0033 0%, #050014 100%); color: #ffde59; font-family: 'Raleway', sans-serif; overflow-x: hidden; }
        .stars { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: transparent url('https://www.transparenttextures.com/patterns/stardust.png') repeat top center; opacity: 0.4; animation: twinkle 8s infinite alternate; pointer-events: none; }
        @keyframes twinkle { 0% { opacity: 0.2; } 100% { opacity: 0.6; } }
        .genie-container { position: relative; z-index: 10; padding: 40px 20px; max-width: 800px; margin: 0 auto; }
        h1 { font-family: 'Cinzel Decorative', cursive; text-align: center; font-size: 2.5rem; text-shadow: 0 0 15px #ffde59; margin-bottom: 30px; }
        .wish-recap { text-align: center; color: #d4af37; font-size: 1.2rem; margin-bottom: 40px; font-style: italic; }
        .question-box { background: rgba(0, 0, 0, 0.6); border-left: 4px solid #9400d3; padding: 20px; border-radius: 10px; margin-bottom: 25px; box-shadow: 0 0 15px rgba(148, 0, 211, 0.2); }
        .question-text { font-size: 1.1rem; color: #fff; margin-bottom: 15px; font-weight: bold; }
        .answer-input { background: rgba(255, 255, 255, 0.05); border: 1px solid #d4af37; color: #fff; border-radius: 8px; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); resize: none; }
        .answer-input:focus { background: rgba(255, 255, 255, 0.1); border-color: #ffde59; box-shadow: 0 0 15px rgba(255, 222, 89, 0.4); color: #fff; outline: none; }
        .btn-magic { background: linear-gradient(45deg, #9400d3, #4b0082); border: 1px solid #ffde59; color: #ffde59; font-family: 'Cinzel Decorative', cursive; font-size: 1.2rem; padding: 12px 30px; border-radius: 50px; width: 100%; transition: all 0.3s ease; }
        .btn-magic:hover { transform: translateY(-2px); box-shadow: 0 0 20px #9400d3, 0 0 40px #ffde59; color: #fff; }
    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="genie-container">
        <h1>The Genie Seeks Clarity</h1>
        <div class="wish-recap">"You wish to: <strong>{{ wish }}</strong>. To weave this destiny, I must know..."</div>
        
        <form method="POST" action="{{ url_for('genie_generate_quest') }}">
            <input type="hidden" name="wish" value="{{ wish }}">
            
            {% for q in questions %}
            <div class="question-box">
                <div class="question-text"><i class="bi bi-stars text-warning me-2"></i> {{ q }}</div>
                <input type="hidden" name="question_{{ loop.index }}" value="{{ q }}">
                <textarea class="form-control answer-input" name="answer_{{ loop.index }}" rows="2" placeholder="Your answer, Master..." required></textarea>
            </div>
            {% endfor %}
            
            <button type="submit" class="btn btn-magic mt-3">Finalize My Destiny</button>
        </form>
    </div>
</body>
</html>